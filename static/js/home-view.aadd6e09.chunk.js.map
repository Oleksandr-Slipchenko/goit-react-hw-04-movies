{"version":3,"sources":["components/Api/Api.js","components/CardsList/CardList.module.css","components/CardsList/CardListPreview.js","components/CardsList/CardsList.js","views/HomePage/HomePage.js"],"names":["API_KEY","BASE_URL","getTopFilms","a","axios","get","response","data","results","console","log","getSearchFilms","query","detailsFilm","movieId","castFilm","cast","reviewsFilm","module","exports","CardListPreview","poster_path","title","vote_average","vote_count","className","s","cards","images","src","alt","review","caption","withRouter","films","location","list","map","id","item","to","pathname","state","from","HomePage","filmsApi","then","film","setState","this","Component"],"mappings":"iWAEMA,EAAU,mCACVC,EAAW,+BAEJC,EAAW,uCAAG,4BAAAC,EAAA,+EAEAC,IAAMC,IAAN,UAClBJ,EADkB,uCACqBD,IAHrB,cAEjBM,EAFiB,yBAMhBA,EAASC,KAAKC,SANE,uCAQvBC,QAAQC,IAAI,QAAZ,MARuB,kBAShB,IATgB,yDAAH,qDAeXC,EAAc,uCAAG,WAAMC,GAAN,eAAAT,EAAA,+EAEHC,IAAMC,IAAN,UAClBJ,EADkB,iCACeD,EADf,+DAC6EY,IAH1E,cAEpBN,EAFoB,yBAKnBA,EAASC,KAAKC,SALK,uCAO1BC,QAAQC,IAAI,QAAZ,MAP0B,kBAQnB,IARmB,yDAAH,sDAcdG,EAAW,uCAAG,WAAMC,GAAN,eAAAX,EAAA,+EAEAC,IAAMC,IAAN,UAClBJ,EADkB,kBACAa,EADA,oBACmBd,EADnB,oBAFA,cAEjBM,EAFiB,yBAKhBA,EAASC,MALO,gCAOvBE,QAAQC,IAAI,QAAZ,MAPuB,yDAAH,sDAaXK,EAAQ,uCAAG,WAAMD,GAAN,eAAAX,EAAA,+EAEGC,IAAMC,IAAN,UAClBJ,EADkB,kBACAa,EADA,4BAC2Bd,EAD3B,oBAFH,cAEdM,EAFc,yBAKbA,EAASC,KAAKS,MALD,gCAOpBP,QAAQC,IAAI,QAAZ,MAPoB,yDAAH,sDAaRO,EAAW,uCAAG,WAAMH,GAAN,eAAAX,EAAA,+EAEAC,IAAMC,IAAN,UAClBJ,EADkB,kBACAa,EADA,4BAC2Bd,EAD3B,2BAFA,cAEjBM,EAFiB,yBAKhBA,EAASC,KAAKC,SALE,gCAOvBC,QAAQC,IAAI,QAAZ,MAPuB,yDAAH,uD,mBC3DxBQ,EAAOC,QAAU,CAAC,KAAO,uBAAuB,KAAO,uBAAuB,OAAS,yBAAyB,MAAQ,wBAAwB,QAAU,4B,oHC4B3IC,EA1BS,SAAC,GAAsD,IAApDC,EAAmD,EAAnDA,YAAaC,EAAsC,EAAtCA,MAAOC,EAA+B,EAA/BA,aAAcC,EAAiB,EAAjBA,WAG3D,OACE,sBAAKC,UAAWC,IAAEC,MAAlB,UACmB,OAAhBN,EACC,qBAAKI,UAAWC,IAAEE,OAAlB,SACE,qBAAKC,IAAG,UANC,kCAMD,YAAiBR,GAAeS,IAAKR,MAG/C,qBACEO,IAAG,+DACHC,IAAKR,IAGT,sBAAKG,UAAWC,IAAEK,OAAlB,UACE,oBAAIN,UAAWC,IAAEJ,MAAjB,SAAyBA,IACzB,iCACE,oBAAGG,UAAWC,IAAEM,QAAhB,mBAAgCT,EAAhC,SACA,oBAAGE,UAAWC,IAAEM,QAAhB,yBAAsCR,EAAtC,sBCSKS,eA1BG,SAAC,GAAyB,IAAvBC,EAAsB,EAAtBA,MAAOC,EAAe,EAAfA,SAC1B,OACE,oBAAIV,UAAWC,IAAEU,KAAjB,SACGF,EAAMG,KAAI,gBAAGC,EAAH,EAAGA,GAAIjB,EAAP,EAAOA,YAAaC,EAApB,EAAoBA,MAAOC,EAA3B,EAA2BA,aAAcC,EAAzC,EAAyCA,WAAzC,OACT,oBAAaC,UAAWC,IAAEa,KAA1B,SACE,cAAC,IAAD,CACEC,GAAI,CACFC,SAAS,WAAD,OAAaH,GACrBI,MAAO,CACLC,KAAMR,IAJZ,SAQE,cAAC,EAAD,CACEd,YAAaA,EACbC,MAAOA,EACPC,aAAcA,EACdC,WAAYA,OAbTc,Y,iJCLIM,E,4MACnBF,MAAQ,CACNR,MAAO,I,kEAGY,IAAD,OAClBW,MAAuBC,MAAK,SAAAC,GAC1B,EAAKC,SAAS,CACZd,MAAOa,S,+BAKH,IACAb,EAAUe,KAAKP,MAAfR,MACR,OACE,kCACE,8BACE,cAAC,IAAD,CAAWA,MAAOA,Y,GAlBUgB","file":"static/js/home-view.aadd6e09.chunk.js","sourcesContent":["import axios from 'axios';\r\n\r\nconst API_KEY = '0834b7bfd5fb91f9012c04990bc0fd7c';\r\nconst BASE_URL = 'https://api.themoviedb.org/3';\r\n\r\nexport const getTopFilms = async () => {\r\n  try {\r\n    const response = await axios.get(\r\n      `${BASE_URL}/trending/movie/day?api_key=${API_KEY}`,\r\n    );\r\n\r\n    return response.data.results;\r\n  } catch (error) {\r\n    console.log('error', error);\r\n    return [];\r\n  }\r\n};\r\n\r\n//  Movie page\r\n\r\nexport const getSearchFilms = async query => {\r\n  try {\r\n    const response = await axios.get(\r\n      `${BASE_URL}/search/movie?api_key=${API_KEY}&language=en-US,ru&page=1&include_adult=false&query=${query}`,\r\n    );\r\n    return response.data.results;\r\n  } catch (error) {\r\n    console.log('error', error);\r\n    return [];\r\n  }\r\n};\r\n\r\n//  detailsFilm\r\n\r\nexport const detailsFilm = async movieId => {\r\n  try {\r\n    const response = await axios.get(\r\n      `${BASE_URL}/movie/${movieId}?api_key=${API_KEY}&language=en-US`,\r\n    );\r\n    return response.data;\r\n  } catch (error) {\r\n    console.log('error', error);\r\n  }\r\n};\r\n\r\n// cast\r\n\r\nexport const castFilm = async movieId => {\r\n  try {\r\n    const response = await axios.get(\r\n      `${BASE_URL}/movie/${movieId}/credits?api_key=${API_KEY}&language=en-US`,\r\n    );\r\n    return response.data.cast;\r\n  } catch (error) {\r\n    console.log('error', error);\r\n  }\r\n};\r\n\r\n//  reviews\r\n\r\nexport const reviewsFilm = async movieId => {\r\n  try {\r\n    const response = await axios.get(\r\n      `${BASE_URL}/movie/${movieId}/reviews?api_key=${API_KEY}&language=en-US&page=1`,\r\n    );\r\n    return response.data.results;\r\n  } catch (error) {\r\n    console.log('error', error);\r\n  }\r\n};\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"list\":\"CardList_list__27pRG\",\"item\":\"CardList_item__1rlF4\",\"images\":\"CardList_images__3ro52\",\"title\":\"CardList_title__1mE26\",\"caption\":\"CardList_caption__2GOMP\"};","import React from 'react';\nimport s from './CardList.module.css';\n\nconst CardListPreview = ({ poster_path, title, vote_average, vote_count }) => {\n  const Base_Url = 'https://image.tmdb.org/t/p/w400';\n\n  return (\n    <div className={s.cards}>\n      {poster_path !== null ? (\n        <div className={s.images}>\n          <img src={`${Base_Url}/${poster_path}`} alt={title} />\n        </div>\n      ) : (\n        <img\n          src={`https://dummyimage.com/150x100/000/fff.jpg&text=no+image+:((`}\n          alt={title}\n        />\n      )}\n      <div className={s.review}>\n        <h2 className={s.title}>{title}</h2>\n        <span>\n          <p className={s.caption}>Vote: {vote_average}/10</p>\n          <p className={s.caption}>Vote count: {vote_count} votes</p>\n        </span>\n      </div>\n    </div>\n  );\n};\n\nexport default CardListPreview;\n","import React from 'react';\nimport { NavLink, withRouter } from 'react-router-dom';\nimport CardListPreview from './CardListPreview';\nimport s from './CardList.module.css';\n\nconst CardsList = ({ films, location }) => {\n  return (\n    <ul className={s.list}>\n      {films.map(({ id, poster_path, title, vote_average, vote_count }) => (\n        <li key={id} className={s.item}>\n          <NavLink\n            to={{\n              pathname: `/movies/${id}`,\n              state: {\n                from: location,\n              },\n            }}\n          >\n            <CardListPreview\n              poster_path={poster_path}\n              title={title}\n              vote_average={vote_average}\n              vote_count={vote_count}\n            />\n          </NavLink>\n        </li>\n      ))}\n    </ul>\n  );\n};\n\nexport default withRouter(CardsList);\n","import React, { Component } from 'react';\nimport CardsList from '../../components/CardsList';\nimport * as filmsApi from '../../components/Api/Api';\n\nexport default class HomePage extends Component {\n  state = {\n    films: [],\n  };\n\n  componentDidMount() {\n    filmsApi.getTopFilms().then(film => {\n      this.setState({\n        films: film,\n      });\n    });\n  }\n\n  render() {\n    const { films } = this.state;\n    return (\n      <section>\n        <div>\n          <CardsList films={films} />\n        </div>\n      </section>\n    );\n  }\n}\n"],"sourceRoot":""}