{"version":3,"sources":["components/Api/Api.js","components/CardsList/CardList.module.css","components/CardsList/CardListPreview.js","components/CardsList/CardsList.js","components/SearchBar/SearchBar.module.css","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js","components/SearchBar/SearchBar.js","views/MoviesPage/MoviesPage.js"],"names":["API_KEY","BASE_URL","getTopFilms","a","axios","get","response","data","results","console","log","getSearchFilms","query","detailsFilm","movieId","castFilm","cast","reviewsFilm","module","exports","CardListPreview","poster_path","title","vote_average","vote_count","className","s","cards","images","src","alt","review","caption","withRouter","films","location","list","map","id","item","to","pathname","state","from","_arrayLikeToArray","arr","len","length","i","arr2","Array","_toConsumableArray","isArray","iter","Symbol","iterator","Object","o","minLen","n","prototype","toString","call","slice","constructor","name","test","TypeError","Searchbar","inputValue","handleInput","e","setState","currentTarget","value","toLowerCase","handleSubmit","preventDefault","trim","props","onSubmit","toast","error","searchBar","searchForm","this","type","searchFormButton","searchFormButtonLabel","searchFormInput","autoComplete","autoFocus","placeholder","onChange","Component","MoviesPage","filmName","handleFormSubmit","prevProps","prevState","filmsApi","then","catch","CardsList"],"mappings":"iWAEMA,EAAU,mCACVC,EAAW,+BAEJC,EAAW,uCAAG,4BAAAC,EAAA,+EAEAC,IAAMC,IAAN,UAClBJ,EADkB,uCACqBD,IAHrB,cAEjBM,EAFiB,yBAMhBA,EAASC,KAAKC,SANE,uCAQvBC,QAAQC,IAAI,QAAZ,MARuB,kBAShB,IATgB,yDAAH,qDAeXC,EAAc,uCAAG,WAAMC,GAAN,eAAAT,EAAA,+EAEHC,IAAMC,IAAN,UAClBJ,EADkB,iCACeD,EADf,+DAC6EY,IAH1E,cAEpBN,EAFoB,yBAKnBA,EAASC,KAAKC,SALK,uCAO1BC,QAAQC,IAAI,QAAZ,MAP0B,kBAQnB,IARmB,yDAAH,sDAcdG,EAAW,uCAAG,WAAMC,GAAN,eAAAX,EAAA,+EAEAC,IAAMC,IAAN,UAClBJ,EADkB,kBACAa,EADA,oBACmBd,EADnB,oBAFA,cAEjBM,EAFiB,yBAKhBA,EAASC,MALO,gCAOvBE,QAAQC,IAAI,QAAZ,MAPuB,yDAAH,sDAaXK,EAAQ,uCAAG,WAAMD,GAAN,eAAAX,EAAA,+EAEGC,IAAMC,IAAN,UAClBJ,EADkB,kBACAa,EADA,4BAC2Bd,EAD3B,oBAFH,cAEdM,EAFc,yBAKbA,EAASC,KAAKS,MALD,gCAOpBP,QAAQC,IAAI,QAAZ,MAPoB,yDAAH,sDAaRO,EAAW,uCAAG,WAAMH,GAAN,eAAAX,EAAA,+EAEAC,IAAMC,IAAN,UAClBJ,EADkB,kBACAa,EADA,4BAC2Bd,EAD3B,2BAFA,cAEjBM,EAFiB,yBAKhBA,EAASC,KAAKC,SALE,gCAOvBC,QAAQC,IAAI,QAAZ,MAPuB,yDAAH,uD,mBC3DxBQ,EAAOC,QAAU,CAAC,KAAO,uBAAuB,KAAO,uBAAuB,OAAS,yBAAyB,MAAQ,wBAAwB,QAAU,4B,oHC4B3IC,EA1BS,SAAC,GAAsD,IAApDC,EAAmD,EAAnDA,YAAaC,EAAsC,EAAtCA,MAAOC,EAA+B,EAA/BA,aAAcC,EAAiB,EAAjBA,WAG3D,OACE,sBAAKC,UAAWC,IAAEC,MAAlB,UACmB,OAAhBN,EACC,qBAAKI,UAAWC,IAAEE,OAAlB,SACE,qBAAKC,IAAG,UANC,kCAMD,YAAiBR,GAAeS,IAAKR,MAG/C,qBACEO,IAAG,+DACHC,IAAKR,IAGT,sBAAKG,UAAWC,IAAEK,OAAlB,UACE,oBAAIN,UAAWC,IAAEJ,MAAjB,SAAyBA,IACzB,iCACE,oBAAGG,UAAWC,IAAEM,QAAhB,mBAAgCT,EAAhC,SACA,oBAAGE,UAAWC,IAAEM,QAAhB,yBAAsCR,EAAtC,sBCSKS,eA1BG,SAAC,GAAyB,IAAvBC,EAAsB,EAAtBA,MAAOC,EAAe,EAAfA,SAC1B,OACE,oBAAIV,UAAWC,IAAEU,KAAjB,SACGF,EAAMG,KAAI,gBAAGC,EAAH,EAAGA,GAAIjB,EAAP,EAAOA,YAAaC,EAApB,EAAoBA,MAAOC,EAA3B,EAA2BA,aAAcC,EAAzC,EAAyCA,WAAzC,OACT,oBAAaC,UAAWC,IAAEa,KAA1B,SACE,cAAC,IAAD,CACEC,GAAI,CACFC,SAAS,WAAD,OAAaH,GACrBI,MAAO,CACLC,KAAMR,IAJZ,SAQE,cAAC,EAAD,CACEd,YAAaA,EACbC,MAAOA,EACPC,aAAcA,EACdC,WAAYA,OAbTc,Y,wCCRjBpB,EAAOC,QAAU,CAAC,UAAY,6BAA6B,WAAa,8BAA8B,iBAAmB,oCAAoC,sBAAwB,yCAAyC,gBAAkB,qC,0FCDjO,SAASyB,EAAkBC,EAAKC,IAClC,MAAPA,GAAeA,EAAMD,EAAIE,UAAQD,EAAMD,EAAIE,QAE/C,IAAK,IAAIC,EAAI,EAAGC,EAAO,IAAIC,MAAMJ,GAAME,EAAIF,EAAKE,IAC9CC,EAAKD,GAAKH,EAAIG,GAGhB,OAAOC,ECHM,SAASE,EAAmBN,GACzC,OCJa,SAA4BA,GACzC,GAAIK,MAAME,QAAQP,GAAM,OAAO,EAAiBA,GDGzC,CAAkBA,IELZ,SAA0BQ,GACvC,GAAsB,qBAAXC,QAA0BA,OAAOC,YAAYC,OAAOH,GAAO,OAAOH,MAAMP,KAAKU,GFIvD,CAAgBR,IGJpC,SAAqCY,EAAGC,GACrD,GAAKD,EAAL,CACA,GAAiB,kBAANA,EAAgB,OAAO,EAAiBA,EAAGC,GACtD,IAAIC,EAAIH,OAAOI,UAAUC,SAASC,KAAKL,GAAGM,MAAM,GAAI,GAEpD,MADU,WAANJ,GAAkBF,EAAEO,cAAaL,EAAIF,EAAEO,YAAYC,MAC7C,QAANN,GAAqB,QAANA,EAAoBT,MAAMP,KAAKc,GACxC,cAANE,GAAqB,2CAA2CO,KAAKP,GAAW,EAAiBF,EAAGC,QAAxG,GHFyD,CAA2Bb,IILvE,WACb,MAAM,IAAIsB,UAAU,wIJIwE,G,4FKCzEC,E,4MAKnB1B,MAAQ,CACN2B,WAAY,I,EAGdC,YAAc,SAAAC,GACZ,EAAKC,SAAS,CAAEH,WAAYE,EAAEE,cAAcC,MAAMC,iB,EAGpDC,aAAe,SAAAL,GACbA,EAAEM,iBACmC,KAAjC,EAAKnC,MAAM2B,WAAWS,QAI1B,EAAKC,MAAMC,SAAS,EAAKtC,MAAM2B,YAC/B,EAAKG,SAAS,CAAEH,WAAY,MAJ1BY,IAAMC,MAAM,yB,uDAQd,OACE,wBAAQzD,UAAWC,IAAEyD,UAArB,SACE,uBAAM1D,UAAWC,IAAE0D,WAAYJ,SAAUK,KAAKT,aAA9C,UACE,wBAAQU,KAAK,SAAS7D,UAAWC,IAAE6D,iBAAnC,SACE,sBAAM9D,UAAWC,IAAE8D,sBAAnB,sBAGF,uBACE/D,UAAWC,IAAE+D,gBACbH,KAAK,OACLI,aAAa,MACbC,WAAS,EACTC,YAAY,eACZC,SAAUR,KAAKf,YACfI,MAAOW,KAAK3C,MAAM2B,sB,GAtCSyB,aCElBC,E,4MACnBrD,MAAQ,CACNR,MAAO,GACP8D,SAAU,I,EAGZC,iBAAmB,SAAAD,GACjB,EAAKxB,SAAS,CAAEwB,c,iEAGCE,EAAWC,GAAY,IAAD,OACnCA,EAAUH,WAAaX,KAAK3C,MAAMsD,UACpCI,IACkBf,KAAK3C,MAAMsD,UAC1BK,MAAK,SAAA9F,GACgB,IAAhBA,EAAKwC,OAIT,EAAKyB,SAAS,CAAEtC,MAAM,EAAK3B,KAHzB0E,IAAMC,MAAM,2BAMfoB,OAAM,SAAApB,GACL,EAAKV,SAAS,CAAEU,e,+BAKd,IACAhD,EAAUmD,KAAK3C,MAAfR,MAER,OACE,qCACE,cAAC,EAAD,CAAW8C,SAAUK,KAAKY,mBAE1B,8BACE,cAACM,EAAA,EAAD,CAAWrE,MAAOA,a,GApCY4D","file":"static/js/movies-view.ccf0d7d4.chunk.js","sourcesContent":["import axios from 'axios';\r\n\r\nconst API_KEY = '0834b7bfd5fb91f9012c04990bc0fd7c';\r\nconst BASE_URL = 'https://api.themoviedb.org/3';\r\n\r\nexport const getTopFilms = async () => {\r\n  try {\r\n    const response = await axios.get(\r\n      `${BASE_URL}/trending/movie/day?api_key=${API_KEY}`,\r\n    );\r\n\r\n    return response.data.results;\r\n  } catch (error) {\r\n    console.log('error', error);\r\n    return [];\r\n  }\r\n};\r\n\r\n//  Movie page\r\n\r\nexport const getSearchFilms = async query => {\r\n  try {\r\n    const response = await axios.get(\r\n      `${BASE_URL}/search/movie?api_key=${API_KEY}&language=en-US,ru&page=1&include_adult=false&query=${query}`,\r\n    );\r\n    return response.data.results;\r\n  } catch (error) {\r\n    console.log('error', error);\r\n    return [];\r\n  }\r\n};\r\n\r\n//  detailsFilm\r\n\r\nexport const detailsFilm = async movieId => {\r\n  try {\r\n    const response = await axios.get(\r\n      `${BASE_URL}/movie/${movieId}?api_key=${API_KEY}&language=en-US`,\r\n    );\r\n    return response.data;\r\n  } catch (error) {\r\n    console.log('error', error);\r\n  }\r\n};\r\n\r\n// cast\r\n\r\nexport const castFilm = async movieId => {\r\n  try {\r\n    const response = await axios.get(\r\n      `${BASE_URL}/movie/${movieId}/credits?api_key=${API_KEY}&language=en-US`,\r\n    );\r\n    return response.data.cast;\r\n  } catch (error) {\r\n    console.log('error', error);\r\n  }\r\n};\r\n\r\n//  reviews\r\n\r\nexport const reviewsFilm = async movieId => {\r\n  try {\r\n    const response = await axios.get(\r\n      `${BASE_URL}/movie/${movieId}/reviews?api_key=${API_KEY}&language=en-US&page=1`,\r\n    );\r\n    return response.data.results;\r\n  } catch (error) {\r\n    console.log('error', error);\r\n  }\r\n};\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"list\":\"CardList_list__27pRG\",\"item\":\"CardList_item__1rlF4\",\"images\":\"CardList_images__3ro52\",\"title\":\"CardList_title__1mE26\",\"caption\":\"CardList_caption__2GOMP\"};","import React from 'react';\nimport s from './CardList.module.css';\n\nconst CardListPreview = ({ poster_path, title, vote_average, vote_count }) => {\n  const Base_Url = 'https://image.tmdb.org/t/p/w400';\n\n  return (\n    <div className={s.cards}>\n      {poster_path !== null ? (\n        <div className={s.images}>\n          <img src={`${Base_Url}/${poster_path}`} alt={title} />\n        </div>\n      ) : (\n        <img\n          src={`https://dummyimage.com/150x100/000/fff.jpg&text=no+image+:((`}\n          alt={title}\n        />\n      )}\n      <div className={s.review}>\n        <h2 className={s.title}>{title}</h2>\n        <span>\n          <p className={s.caption}>Vote: {vote_average}/10</p>\n          <p className={s.caption}>Vote count: {vote_count} votes</p>\n        </span>\n      </div>\n    </div>\n  );\n};\n\nexport default CardListPreview;\n","import React from 'react';\nimport { NavLink, withRouter } from 'react-router-dom';\nimport CardListPreview from './CardListPreview';\nimport s from './CardList.module.css';\n\nconst CardsList = ({ films, location }) => {\n  return (\n    <ul className={s.list}>\n      {films.map(({ id, poster_path, title, vote_average, vote_count }) => (\n        <li key={id} className={s.item}>\n          <NavLink\n            to={{\n              pathname: `/movies/${id}`,\n              state: {\n                from: location,\n              },\n            }}\n          >\n            <CardListPreview\n              poster_path={poster_path}\n              title={title}\n              vote_average={vote_average}\n              vote_count={vote_count}\n            />\n          </NavLink>\n        </li>\n      ))}\n    </ul>\n  );\n};\n\nexport default withRouter(CardsList);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchBar\":\"SearchBar_searchBar__ZWPUg\",\"searchForm\":\"SearchBar_searchForm__i6Mx4\",\"searchFormButton\":\"SearchBar_searchFormButton__zgBhB\",\"searchFormButtonLabel\":\"SearchBar_searchFormButtonLabel__F_akY\",\"searchFormInput\":\"SearchBar_searchFormInput__2lpze\"};","export default function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}","import arrayWithoutHoles from \"@babel/runtime/helpers/esm/arrayWithoutHoles\";\nimport iterableToArray from \"@babel/runtime/helpers/esm/iterableToArray\";\nimport unsupportedIterableToArray from \"@babel/runtime/helpers/esm/unsupportedIterableToArray\";\nimport nonIterableSpread from \"@babel/runtime/helpers/esm/nonIterableSpread\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}","import arrayLikeToArray from \"@babel/runtime/helpers/esm/arrayLikeToArray\";\nexport default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}","import arrayLikeToArray from \"@babel/runtime/helpers/esm/arrayLikeToArray\";\nexport default function _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { toast } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport s from './SearchBar.module.css';\r\n\r\nexport default class Searchbar extends Component {\r\n  static propTypes = {\r\n    onSubmit: PropTypes.func.isRequired,\r\n  };\r\n\r\n  state = {\r\n    inputValue: '',\r\n  };\r\n\r\n  handleInput = e => {\r\n    this.setState({ inputValue: e.currentTarget.value.toLowerCase() });\r\n  };\r\n\r\n  handleSubmit = e => {\r\n    e.preventDefault();\r\n    if (this.state.inputValue.trim() === '') {\r\n      toast.error('enter something else');\r\n      return;\r\n    }\r\n    this.props.onSubmit(this.state.inputValue);\r\n    this.setState({ inputValue: '' });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <header className={s.searchBar}>\r\n        <form className={s.searchForm} onSubmit={this.handleSubmit}>\r\n          <button type=\"submit\" className={s.searchFormButton}>\r\n            <span className={s.searchFormButtonLabel}>Search</span>\r\n          </button>\r\n\r\n          <input\r\n            className={s.searchFormInput}\r\n            type=\"text\"\r\n            autoComplete=\"off\"\r\n            autoFocus\r\n            placeholder=\"Search films\"\r\n            onChange={this.handleInput}\r\n            value={this.state.inputValue}\r\n          />\r\n        </form>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from 'react';\nimport { toast } from 'react-toastify';\n\nimport * as filmsApi from '../../components/Api/Api';\n\nimport CardsList from 'components/CardsList';\nimport SearchBar from '../../components/SearchBar/SearchBar';\n\nexport default class MoviesPage extends Component {\n  state = {\n    films: [],\n    filmName: '',\n  };\n\n  handleFormSubmit = filmName => {\n    this.setState({ filmName });\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevState.filmName !== this.state.filmName) {\n      filmsApi\n        .getSearchFilms(this.state.filmName)\n        .then(data => {\n          if (data.length === 0) {\n            toast.error('enter something else');\n            return;\n          }\n          this.setState({ films: [...data] });\n          // console.log(data);\n        })\n        .catch(error => {\n          this.setState({ error });\n        });\n    }\n  }\n\n  render() {\n    const { films } = this.state;\n\n    return (\n      <>\n        <SearchBar onSubmit={this.handleFormSubmit} />\n\n        <div>\n          <CardsList films={films} />\n        </div>\n      </>\n    );\n  }\n}\n"],"sourceRoot":""}